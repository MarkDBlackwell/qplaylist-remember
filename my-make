#/bin/sh
# Copyright (C) 2017 Mark D. Blackwell.

(
NAME=Main && \

echo "Searching for trailing blanks" && \
grep -nEI ' $' `find front-end -type f` || \

echo "Formatting" && \
elm-format --yes front-end/ && \

elm-make --warn --output=remember/$NAME.js front-end/$NAME.elm && \

cd remember && \

echo "Minifying $NAME.js" && \
uglifyjs --compress --mangle reserved=['Elm'] -- \
  $NAME.js > \
  $NAME-min.js && \

:) || \

echo "Failed to complete"
